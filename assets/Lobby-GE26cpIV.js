import{j as t,b as a,r,S as x,L as A,P as j}from"./index-dORyxJZB.js";import{F as g,a as E}from"./index.es-j-Zw1FVm.js";import{u as U,I as w}from"./useUser-CYfjAhTb.js";const Z="_small_1l5a0_1",$="_medium_1l5a0_6",I="_large_1l5a0_11",N="_avatar_1l5a0_16",M="_Available_1l5a0_35",C="_Busy_1l5a0_39",V="_Away_1l5a0_43",u={small:Z,medium:$,large:I,avatar:N,Available:M,Busy:C,Away:V},f=({username:s,size:e,status:n,isOnline:i})=>t.jsx("div",{"data-testid":"avatar",className:`
        ${u.avatar} 
        ${u[e]}
        ${i?u[n]:""}
      `,children:t.jsx("img",{src:`https://robohash.org/${s}?set=set4`,alt:`${s} avatar`})}),y=[{id:1,username:"Alice",isOnline:!0,lastSeenAt:"2021-07-01T12:00:00Z",status:a.AVAILABLE},{id:2,username:"Bob",isOnline:!1,lastSeenAt:"2021-07-01T12:00:00Z",status:a.AWAY},{id:3,username:"Charlie",isOnline:!0,lastSeenAt:"2021-07-01T12:00:00Z",status:a.BUSY},{id:4,username:"Jenna4",isOnline:!0,lastSeenAt:"2024-01-24T17:40:09Z",status:a.BUSY},{id:5,username:"Mia5",isOnline:!0,lastSeenAt:"2024-01-17T17:40:09Z",status:a.BUSY},{id:6,username:"Walter6",isOnline:!1,lastSeenAt:"2024-01-18T17:40:09Z",status:a.AWAY},{id:7,username:"Ulysses7",isOnline:!0,lastSeenAt:"2024-02-05T17:40:09Z",status:a.AVAILABLE},{id:8,username:"Bob8",isOnline:!0,lastSeenAt:"2024-01-19T17:40:09Z",status:a.BUSY},{id:9,username:"Tina9",isOnline:!0,lastSeenAt:"2024-02-06T17:40:09Z",status:a.AVAILABLE},{id:10,username:"Laura10",isOnline:!0,lastSeenAt:"2024-01-29T17:40:09Z",status:a.AVAILABLE},{id:11,username:"Charlie11",isOnline:!1,lastSeenAt:"2024-02-03T17:40:09Z",status:a.AWAY},{id:12,username:"Ulysses12",isOnline:!0,lastSeenAt:"2024-01-31T17:40:09Z",status:a.AVAILABLE},{id:13,username:"Hannah13",isOnline:!1,lastSeenAt:"2024-01-25T17:40:09Z",status:a.BUSY}],Y=[{from_user_id:1,from_user:"Alice",sent_at:"2024-02-08T12:00:00Z",text:"Hey everyone, ready for the game? 🎮",isOnline:!0,status:a.AVAILABLE},{from_user_id:3,from_user:"Charlie",sent_at:"2024-02-08T12:01:00Z",text:"Just a sec, finalizing my settings! ⚙️",isOnline:!0,status:a.BUSY},{from_user_id:4,from_user:"Jenna4",sent_at:"2024-02-08T12:01:30Z",text:"All set here. Excited to play! 😄",isOnline:!0,status:a.BUSY},{from_user_id:7,from_user:"Ulysses7",sent_at:"2024-02-08T12:02:00Z",text:"Is everyone here? What about Bob and Walter? 🤔",isOnline:!0,status:a.AVAILABLE},{from_user_id:9,from_user:"Tina9",sent_at:"2024-02-08T12:02:30Z",text:"Bob's offline, might be away. Let’s give Walter a few more mins? ⏰",isOnline:!0,status:a.AVAILABLE},{from_user_id:10,from_user:"Laura10",sent_at:"2024-02-08T12:03:00Z",text:"Can’t wait to try out the new map. Has anyone played it yet? 🗺️",isOnline:!0,status:a.AVAILABLE},{from_user_id:12,from_user:"Ulysses12",sent_at:"2024-02-08T12:04:00Z",text:"First time for me. Any tips? 🤷",isOnline:!0,status:a.AVAILABLE},{from_user_id:5,from_user:"Mia5",sent_at:"2024-02-08T12:04:30Z",text:"Stick together and watch for the hidden traps. Learned that the hard way! 😅",isOnline:!0,status:a.BUSY},{from_user_id:8,from_user:"Bob8",sent_at:"2024-02-08T12:05:00Z",text:"Sorry I’m late, had to update my game. I’m in now. 🚀",isOnline:!0,status:a.BUSY}],L=["#f44437","#2296f3","#4daf50","#ff9800","#9b27b0","#FFA07A"],d={},z=s=>{if(!d[s]){const e=L[Math.floor(Math.random()*L.length)];d[s]=e}return d[s]},F="_container_mn1o5_1",W="_content_mn1o5_12",k="_box_mn1o5_21",m={container:F,content:W,box:k},H=()=>{const s=r.useRef(null),e=()=>{var n;(n=s.current)==null||n.scrollIntoView({behavior:"smooth"})};return r.useEffect(()=>{e()},[]),t.jsxs("div",{className:m.container,"data-testid":"message",children:[Y.map((n,i)=>{const c=z(n.from_user_id);return t.jsxs("div",{className:m.content,"data-testid":"message-item",children:[t.jsx(f,{username:n.from_user,size:"medium",isOnline:n.isOnline,status:n.status}),t.jsxs("div",{className:m.box,children:[t.jsx("p",{style:{color:c},children:n.from_user}),t.jsx("p",{children:n.text}),t.jsx("small",{children:new Date(n.sent_at).toLocaleDateString()})]})]},i)}),t.jsx("div",{ref:s})]})},R="_title_pc6ui_3",P="_container_pc6ui_8",p={title:R,container:P},D=()=>t.jsxs("div",{className:p.container,"data-testid":"chat",children:[t.jsx("h1",{className:p.title,children:"The Lobby™"}),t.jsx(H,{})]}),J="_list_1ml3k_3",G="_username_1ml3k_11",K="_logout_1ml3k_30",l={list:J,username:G,logout:K},q=()=>{const{state:s}=U(),e=s;return t.jsxs("nav",{className:l.navigation,"data-testid":"navigation",children:[t.jsx(x,{id:"logout-tooltip","data-testid":""}),t.jsxs("ul",{className:l.list,children:[t.jsx("li",{className:l.username,children:t.jsxs(A,{to:j.PROFILE,"aria-label":"Go to profile",children:[t.jsx(f,{username:e.username,size:"large",status:e.status,isOnline:e.isOnline}),t.jsxs("span",{"data-tooltip-id":"username-tooltip","data-tooltip-content":e.username,"data-testid":"username-tooltip",children:[e.username.length>5&&t.jsx(x,{id:"username-tooltip"}),e.username]})]})}),t.jsx("li",{children:t.jsx("h1",{children:"The Lobby™"})}),t.jsx("li",{"data-tooltip-id":"logout-tooltip","data-tooltip-content":"Leave The Lobby",className:l.logout,children:t.jsx(A,{to:j.HOME,"aria-label":"Logout",children:t.jsx(g,{icon:E})})})]})]})},Q="_container_pm5vs_3",X={container:Q},tt=({searchTerm:s,setSearchTerm:e})=>t.jsx("div",{className:X.container,"data-testid":"search",children:t.jsx(w,{id:"search",placeholder:"Search an user...",value:s,onValueChange:e})}),st=460;function O(){const[s,e]=r.useState(!1);return r.useEffect(()=>{const n=()=>{e(window.innerWidth<st)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),s}const et="_container_15csr_1",nt="_info_15csr_6",b={container:et,info:nt},at=({user:s})=>{const{username:e}=s,n=O();return t.jsxs("div",{className:b.container,children:[t.jsx(f,{username:e,size:n?"small":"medium",status:s.status,isOnline:s.isOnline}),!n&&t.jsxs("div",{className:b.info,children:[t.jsx("p",{children:e}),t.jsx("small",{children:s.status})]})]})},it="_list_ntz3w_3",rt="_title_ntz3w_18",v={list:it,title:rt},_=({users:s,title:e})=>t.jsxs(t.Fragment,{children:[e&&t.jsxs("h4",{className:v.title,children:[e,t.jsxs("small",{children:[" (",s.length,")"]})]}),t.jsx("ul",{className:v.list,children:s.map(n=>t.jsx("li",{children:t.jsx(at,{user:n})},n.id))})]}),ot="_container_14upa_3",lt="_content_14upa_11",ct="_title_14upa_16",h={container:ot,content:lt,title:ct},ut=()=>{const s=O(),[e,n]=r.useState(y),[i,c]=r.useState("");r.useEffect(()=>{const o=y.filter(B=>B.username.toLowerCase().includes(i.toLowerCase()));n(o)},[i]);const S=e.filter(o=>o.isOnline),T=e.filter(o=>!o.isOnline);return t.jsxs("div",{className:h.container,"data-testid":"sidebar",children:[t.jsx("h2",{className:h.title,children:"Users"}),t.jsx(tt,{searchTerm:i,setSearchTerm:c}),t.jsxs("div",{className:h.content,"data-testid":"users-list-container",children:[s&&t.jsx(_,{users:e}),!s&&t.jsxs(t.Fragment,{children:[t.jsx(_,{users:S,title:"Online"}),t.jsx(_,{users:T,title:"Offline"})]})]})]})},dt="_container_vx2f6_3",mt={container:dt};function xt(){return t.jsxs("div",{className:mt.container,"data-testid":"lobby",children:[t.jsx(q,{}),t.jsx(ut,{}),t.jsx(D,{})]})}export{xt as default};
