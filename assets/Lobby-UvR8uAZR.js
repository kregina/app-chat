import{r as o,j as e,b as a,S as j,L as p,P as L}from"./index-ln8HHZiR.js";import{B as y,I as T,u as U}from"./useUser-9uPX4AGx.js";import{F as x,a as $}from"./index.es-A1QKuoqc.js";var Z={prefix:"far",iconName:"face-smile",icon:[512,512,[128578,"smile"],"f118","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm177.6 62.1C192.8 334.5 218.8 352 256 352s63.2-17.5 78.4-33.9c9-9.7 24.2-10.4 33.9-1.4s10.4 24.2 1.4 33.9c-22 23.8-60 49.4-113.6 49.4s-91.7-25.5-113.6-49.4c-9-9.7-8.4-24.9 1.4-33.9s24.9-8.4 33.9 1.4zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},I={prefix:"far",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M16.1 260.2c-22.6 12.9-20.5 47.3 3.6 57.3L160 376V479.3c0 18.1 14.6 32.7 32.7 32.7c9.7 0 18.9-4.3 25.1-11.8l62-74.3 123.9 51.6c18.9 7.9 40.8-4.5 43.9-24.7l64-416c1.9-12.1-3.4-24.3-13.5-31.2s-23.3-7.5-34-1.4l-448 256zm52.1 25.5L409.7 90.6 190.1 336l1.2 1L68.2 285.7zM403.3 425.4L236.7 355.9 450.8 116.6 403.3 425.4z"]};const M="_container_ui67b_1",u={container:M},C=()=>{const[s,t]=o.useState(""),n=r=>{t(r)},i=()=>{console.log("emoji")};return e.jsxs("footer",{className:u.container,"data-testid":"footer",children:[e.jsx(y,{className:"icon",id:"emoji",onClick:i,children:e.jsx(x,{"data-testid":"button-icon",icon:Z,className:u.icon})}),e.jsx(T,{id:"new-message",onValueChange:n,placeholder:"Type new message...",value:s}),e.jsx(y,{className:"icon",id:"send-message",onClick:i,children:e.jsx(x,{"data-testid":"button-icon",icon:I,className:u.icon})})]})},z="_small_1l5a0_1",V="_medium_1l5a0_6",Y="_large_1l5a0_11",F="_avatar_1l5a0_16",k="_Available_1l5a0_35",W="_Busy_1l5a0_39",P="_Away_1l5a0_43",d={small:z,medium:V,large:Y,avatar:F,Available:k,Busy:W,Away:P},A=({username:s,size:t,status:n,isOnline:i})=>e.jsx("div",{"data-testid":"avatar",className:`
        ${d.avatar} 
        ${d[t]}
        ${i?d[n]:""}
      `,children:e.jsx("img",{src:`https://robohash.org/${s}?set=set4`,alt:`${s} avatar`})}),b=[{id:1,username:"Alice",isOnline:!0,lastSeenAt:"2021-07-01T12:00:00Z",status:a.AVAILABLE},{id:2,username:"Bob",isOnline:!1,lastSeenAt:"2021-07-01T12:00:00Z",status:a.AWAY},{id:3,username:"Charlie",isOnline:!0,lastSeenAt:"2021-07-01T12:00:00Z",status:a.BUSY},{id:4,username:"Jenna4",isOnline:!0,lastSeenAt:"2024-01-24T17:40:09Z",status:a.BUSY},{id:5,username:"Mia5",isOnline:!0,lastSeenAt:"2024-01-17T17:40:09Z",status:a.BUSY},{id:6,username:"Walter6",isOnline:!1,lastSeenAt:"2024-01-18T17:40:09Z",status:a.AWAY},{id:7,username:"Ulysses7",isOnline:!0,lastSeenAt:"2024-02-05T17:40:09Z",status:a.AVAILABLE},{id:8,username:"Bob8",isOnline:!0,lastSeenAt:"2024-01-19T17:40:09Z",status:a.BUSY},{id:9,username:"Tina9",isOnline:!0,lastSeenAt:"2024-02-06T17:40:09Z",status:a.AVAILABLE},{id:10,username:"Laura10",isOnline:!0,lastSeenAt:"2024-01-29T17:40:09Z",status:a.AVAILABLE},{id:11,username:"Charlie11",isOnline:!1,lastSeenAt:"2024-02-03T17:40:09Z",status:a.AWAY},{id:12,username:"Ulysses12",isOnline:!0,lastSeenAt:"2024-01-31T17:40:09Z",status:a.AVAILABLE},{id:13,username:"Hannah13",isOnline:!1,lastSeenAt:"2024-01-25T17:40:09Z",status:a.BUSY}],H=[{from_user_id:1,from_user:"Alice",sent_at:"2024-02-08T12:00:00Z",text:"Hey everyone, ready for the game? 🎮",isOnline:!0,status:a.AVAILABLE},{from_user_id:3,from_user:"Charlie",sent_at:"2024-02-08T12:01:00Z",text:"Just a sec, finalizing my settings! ⚙️",isOnline:!0,status:a.BUSY},{from_user_id:4,from_user:"Jenna4",sent_at:"2024-02-08T12:01:30Z",text:"All set here. Excited to play! 😄",isOnline:!0,status:a.BUSY},{from_user_id:7,from_user:"Ulysses7",sent_at:"2024-02-08T12:02:00Z",text:"Is everyone here? What about Bob and Walter? 🤔",isOnline:!0,status:a.AVAILABLE},{from_user_id:9,from_user:"Tina9",sent_at:"2024-02-08T12:02:30Z",text:"Bob's offline, might be away. Let’s give Walter a few more mins? ⏰",isOnline:!0,status:a.AVAILABLE},{from_user_id:10,from_user:"Laura10",sent_at:"2024-02-08T12:03:00Z",text:"Can’t wait to try out the new map. Has anyone played it yet? 🗺️",isOnline:!0,status:a.AVAILABLE},{from_user_id:12,from_user:"Ulysses12",sent_at:"2024-02-08T12:04:00Z",text:"First time for me. Any tips? 🤷",isOnline:!0,status:a.AVAILABLE},{from_user_id:5,from_user:"Mia5",sent_at:"2024-02-08T12:04:30Z",text:"Stick together and watch for the hidden traps. Learned that the hard way! 😅",isOnline:!0,status:a.BUSY},{from_user_id:8,from_user:"Bob8",sent_at:"2024-02-08T12:05:00Z",text:"Sorry I’m late, had to update my game. I’m in now. 🚀",isOnline:!0,status:a.BUSY}],v=["#f44437","#2296f3","#4daf50","#ff9800","#9b27b0","#FFA07A"],m={},R=s=>{if(!m[s]){const t=v[Math.floor(Math.random()*v.length)];m[s]=t}return m[s]},D="_container_mn1o5_1",J="_content_mn1o5_12",G="_box_mn1o5_21",_={container:D,content:J,box:G},K=()=>{const s=o.useRef(null),t=()=>{var n;(n=s.current)==null||n.scrollIntoView({behavior:"smooth"})};return o.useEffect(()=>{t()},[]),e.jsxs("div",{className:_.container,"data-testid":"message",children:[H.map((n,i)=>{const r=R(n.from_user_id);return e.jsxs("div",{className:_.content,"data-testid":"message-item",children:[e.jsx(A,{username:n.from_user,size:"medium",isOnline:n.isOnline,status:n.status}),e.jsxs("div",{className:_.box,children:[e.jsx("p",{style:{color:r},children:n.from_user}),e.jsx("p",{children:n.text}),e.jsx("small",{children:new Date(n.sent_at).toLocaleDateString()})]})]},i)}),e.jsx("div",{ref:s})]})},q="_title_pc6ui_3",Q="_container_pc6ui_8",O={title:q,container:Q},X=()=>e.jsxs("div",{className:O.container,"data-testid":"chat",children:[e.jsx("h1",{className:O.title,children:"The Lobby™"}),e.jsx(K,{}),e.jsx(C,{})]}),ee="_list_1ml3k_3",se="_username_1ml3k_11",te="_logout_1ml3k_30",c={list:ee,username:se,logout:te},ne=()=>{const{state:s}=U(),t=s;return e.jsxs("nav",{className:c.navigation,"data-testid":"navigation",children:[e.jsx(j,{id:"logout-tooltip","data-testid":""}),e.jsxs("ul",{className:c.list,children:[e.jsx("li",{className:c.username,children:e.jsxs(p,{to:L.PROFILE,"aria-label":"Go to profile",children:[e.jsx(A,{username:t.username,size:"large",status:t.status,isOnline:t.isOnline}),e.jsxs("span",{"data-tooltip-id":"username-tooltip","data-tooltip-content":t.username,"data-testid":"username-tooltip",children:[t.username.length>5&&e.jsx(j,{id:"username-tooltip"}),t.username]})]})}),e.jsx("li",{children:e.jsx("h1",{children:"The Lobby™"})}),e.jsx("li",{"data-tooltip-id":"logout-tooltip","data-tooltip-content":"Leave The Lobby",className:c.logout,children:e.jsx(p,{to:L.HOME,"aria-label":"Logout",children:e.jsx(x,{icon:$})})})]})]})},ae="_container_pm5vs_3",ie={container:ae},oe=({searchTerm:s,setSearchTerm:t})=>e.jsx("div",{className:ie.container,"data-testid":"search",children:e.jsx(T,{id:"search",placeholder:"Search an user...",value:s,onValueChange:t})}),re=460;function B(){const[s,t]=o.useState(!1);return o.useEffect(()=>{const n=()=>{t(window.innerWidth<re)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),s}const le="_container_15csr_1",ce="_info_15csr_6",S={container:le,info:ce},ue=({user:s})=>{const{username:t}=s,n=B();return e.jsxs("div",{className:S.container,children:[e.jsx(A,{username:t,size:n?"small":"medium",status:s.status,isOnline:s.isOnline}),!n&&e.jsxs("div",{className:S.info,children:[e.jsx("p",{children:t}),e.jsx("small",{children:s.status})]})]})},de="_list_ntz3w_3",me="_title_ntz3w_18",g={list:de,title:me},h=({users:s,title:t})=>e.jsxs(e.Fragment,{children:[t&&e.jsxs("h4",{className:g.title,children:[t,e.jsxs("small",{children:[" (",s.length,")"]})]}),e.jsx("ul",{className:g.list,children:s.map(n=>e.jsx("li",{children:e.jsx(ue,{user:n})},n.id))})]}),_e="_container_14upa_3",he="_content_14upa_11",fe="_title_14upa_16",f={container:_e,content:he,title:fe},xe=()=>{const s=B(),[t,n]=o.useState(b),[i,r]=o.useState("");o.useEffect(()=>{const l=b.filter(E=>E.username.toLowerCase().includes(i.toLowerCase()));n(l)},[i]);const N=t.filter(l=>l.isOnline),w=t.filter(l=>!l.isOnline);return e.jsxs("div",{className:f.container,"data-testid":"sidebar",children:[e.jsx("h2",{className:f.title,children:"Users"}),e.jsx(oe,{searchTerm:i,setSearchTerm:r}),e.jsxs("div",{className:f.content,"data-testid":"users-list-container",children:[s&&e.jsx(h,{users:t}),!s&&e.jsxs(e.Fragment,{children:[e.jsx(h,{users:N,title:"Online"}),e.jsx(h,{users:w,title:"Offline"})]})]})]})},Ae="_container_vx2f6_3",je={container:Ae};function be(){return e.jsxs("div",{className:je.container,"data-testid":"lobby",children:[e.jsx(ne,{}),e.jsx(xe,{}),e.jsx(X,{})]})}export{be as default};
