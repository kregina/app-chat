import{j as e,b as n,S as _,L as h,P as x,r as l}from"./index-u8Qn6YOA.js";import{F as b,a as B}from"./index.es-p4rKZ6oY.js";import{u as g,I as w}from"./useUser-I2WOGc7d.js";const U="_small_1l5a0_1",E="_medium_1l5a0_6",I="_large_1l5a0_11",Z="_avatar_1l5a0_16",$="_Available_1l5a0_35",N="_Busy_1l5a0_39",Y="_Away_1l5a0_43",c={small:U,medium:E,large:I,avatar:Z,Available:$,Busy:N,Away:Y},m=({username:t,size:s,status:a,isOnline:i})=>e.jsx("div",{"data-testid":"avatar",className:`
        ${c.avatar} 
        ${c[s]}
        ${i?c[a]:""}
      `,children:e.jsx("img",{src:`https://robohash.org/${t}?set=set4`,alt:`${t} avatar`})}),A=[{id:1,username:"Alice",isOnline:!0,lastSeenAt:"2021-07-01T12:00:00Z",status:n.AVAILABLE},{id:2,username:"Bob",isOnline:!1,lastSeenAt:"2021-07-01T12:00:00Z",status:n.AWAY},{id:3,username:"Charlie",isOnline:!0,lastSeenAt:"2021-07-01T12:00:00Z",status:n.BUSY},{id:4,username:"Jenna4",isOnline:!0,lastSeenAt:"2024-01-24T17:40:09Z",status:n.BUSY},{id:5,username:"Mia5",isOnline:!0,lastSeenAt:"2024-01-17T17:40:09Z",status:n.BUSY},{id:6,username:"Walter6",isOnline:!1,lastSeenAt:"2024-01-18T17:40:09Z",status:n.AWAY},{id:7,username:"Ulysses7",isOnline:!0,lastSeenAt:"2024-02-05T17:40:09Z",status:n.AVAILABLE},{id:8,username:"Bob8",isOnline:!0,lastSeenAt:"2024-01-19T17:40:09Z",status:n.BUSY},{id:9,username:"Tina9",isOnline:!0,lastSeenAt:"2024-02-06T17:40:09Z",status:n.AVAILABLE},{id:10,username:"Laura10",isOnline:!0,lastSeenAt:"2024-01-29T17:40:09Z",status:n.AVAILABLE},{id:11,username:"Charlie11",isOnline:!1,lastSeenAt:"2024-02-03T17:40:09Z",status:n.AWAY},{id:12,username:"Ulysses12",isOnline:!0,lastSeenAt:"2024-01-31T17:40:09Z",status:n.AVAILABLE},{id:13,username:"Hannah13",isOnline:!1,lastSeenAt:"2024-01-25T17:40:09Z",status:n.BUSY}],M=[{from_user_id:1,from_user:"Alice",sent_at:"2024-02-08T12:00:00Z",text:"Hey everyone, ready for the game? ðŸŽ®",isOnline:!0,status:n.AVAILABLE},{from_user_id:3,from_user:"Charlie",sent_at:"2024-02-08T12:01:00Z",text:"Just a sec, finalizing my settings! âš™ï¸",isOnline:!0,status:n.BUSY},{from_user_id:4,from_user:"Jenna4",sent_at:"2024-02-08T12:01:30Z",text:"All set here. Excited to play! ðŸ˜„",isOnline:!0,status:n.BUSY},{from_user_id:7,from_user:"Ulysses7",sent_at:"2024-02-08T12:02:00Z",text:"Is everyone here? What about Bob and Walter? ðŸ¤”",isOnline:!0,status:n.AVAILABLE},{from_user_id:9,from_user:"Tina9",sent_at:"2024-02-08T12:02:30Z",text:"Bob's offline, might be away. Letâ€™s give Walter a few more mins? â°",isOnline:!0,status:n.AVAILABLE},{from_user_id:10,from_user:"Laura10",sent_at:"2024-02-08T12:03:00Z",text:"Canâ€™t wait to try out the new map. Has anyone played it yet? ðŸ—ºï¸",isOnline:!0,status:n.AVAILABLE},{from_user_id:12,from_user:"Ulysses12",sent_at:"2024-02-08T12:04:00Z",text:"First time for me. Any tips? ðŸ¤·",isOnline:!0,status:n.AVAILABLE},{from_user_id:5,from_user:"Mia5",sent_at:"2024-02-08T12:04:30Z",text:"Stick together and watch for the hidden traps. Learned that the hard way! ðŸ˜…",isOnline:!0,status:n.BUSY},{from_user_id:8,from_user:"Bob8",sent_at:"2024-02-08T12:05:00Z",text:"Sorry Iâ€™m late, had to update my game. Iâ€™m in now. ðŸš€",isOnline:!0,status:n.BUSY}],V="_container_18wvx_1",C="_content_18wvx_7",f={container:V,content:C},z=()=>e.jsx("div",{className:f.container,"data-testid":"message",children:M.map((t,s)=>e.jsxs("div",{className:f.content,"data-testid":"message-item",children:[e.jsx(m,{username:t.from_user,size:"medium",isOnline:t.isOnline,status:t.status}),e.jsxs("div",{children:[e.jsx("p",{children:t.from_user}),e.jsx("p",{children:t.text}),e.jsx("p",{children:t.sent_at})]})]},s))}),W="_title_pc6ui_3",k="_container_pc6ui_8",j={title:W,container:k},F=()=>e.jsxs("div",{className:j.container,"data-testid":"chat",children:[e.jsx("h1",{className:j.title,children:"The Lobbyâ„¢"}),e.jsx(z,{})]}),H="_list_1ml3k_3",P="_username_1ml3k_11",J="_logout_1ml3k_30",o={list:H,username:P,logout:J},R=()=>{const{state:t}=g(),s=t;return e.jsxs("nav",{className:o.navigation,"data-testid":"navigation",children:[e.jsx(_,{id:"logout-tooltip","data-testid":""}),e.jsxs("ul",{className:o.list,children:[e.jsx("li",{className:o.username,children:e.jsxs(h,{to:x.PROFILE,"aria-label":"Go to profile",children:[e.jsx(m,{username:s.username,size:"large",status:s.status,isOnline:s.isOnline}),e.jsxs("span",{"data-tooltip-id":"username-tooltip","data-tooltip-content":s.username,"data-testid":"username-tooltip",children:[s.username.length>5&&e.jsx(_,{id:"username-tooltip"}),s.username]})]})}),e.jsx("li",{children:e.jsx("h1",{children:"The Lobbyâ„¢"})}),e.jsx("li",{"data-tooltip-id":"logout-tooltip","data-tooltip-content":"Leave The Lobby",className:o.logout,children:e.jsx(h,{to:x.HOME,"aria-label":"Logout",children:e.jsx(b,{icon:B})})})]})]})},D="_container_pm5vs_3",G={container:D},K=({searchTerm:t,setSearchTerm:s})=>e.jsx("div",{className:G.container,children:e.jsx(w,{id:"search",placeholder:"Search an user...",value:t,onValueChange:s})}),q=460;function p(){const[t,s]=l.useState(!1);return l.useEffect(()=>{const a=()=>{s(window.innerWidth<q)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),t}const Q="_container_15csr_1",X="_info_15csr_6",y={container:Q,info:X},ee=({user:t})=>{const{username:s}=t,a=p();return e.jsxs("div",{className:y.container,children:[e.jsx(m,{username:s,size:a?"small":"medium",status:t.status,isOnline:t.isOnline}),!a&&e.jsxs("div",{className:y.info,children:[e.jsx("p",{children:s}),e.jsx("small",{children:t.status})]})]})},te="_list_ntz3w_3",se="_title_ntz3w_18",L={list:te,title:se},u=({users:t,title:s})=>e.jsxs(e.Fragment,{children:[s&&e.jsxs("h4",{className:L.title,children:[s,e.jsxs("small",{children:[" (",t.length,")"]})]}),e.jsx("ul",{className:L.list,children:t.map(a=>e.jsx("li",{children:e.jsx(ee,{user:a})},a.id))})]}),ne="_container_eix04_3",ae="_content_eix04_11",ie="_title_eix04_16",d={container:ne,content:ae,title:ie},re=()=>{const t=p(),[s,a]=l.useState(A),[i,v]=l.useState("");l.useEffect(()=>{const r=A.filter(T=>T.username.toLowerCase().includes(i.toLowerCase()));a(r)},[i]);const O=s.filter(r=>r.isOnline),S=s.filter(r=>!r.isOnline);return e.jsxs("div",{className:d.container,"data-testid":"sidebar",children:[e.jsx("h2",{className:d.title,children:"Users"}),e.jsx(K,{searchTerm:i,setSearchTerm:v}),e.jsx("div",{className:d.content,children:t?e.jsx(u,{users:s}):e.jsxs(e.Fragment,{children:[e.jsx(u,{users:O,title:"Online"}),e.jsx(u,{users:S,title:"Offline"})]})})]})},le="_container_vx2f6_3",oe={container:le};function me(){return e.jsxs("div",{className:oe.container,"data-testid":"lobby",children:[e.jsx(R,{}),e.jsx(re,{}),e.jsx(F,{})]})}export{me as default};
